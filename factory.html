<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>工厂模式</title>
</head>
<body>


<script type="text/javascript">
/**
 *自行车商店类
 *
*/

var BicycleShop = function () {
	
};
BicycleShop.prototype = {
	sellBicycle:function (model) {
		var bicycle;

		switch(model){
			case 'The Speedster':// 快车
				bicycle = new Speedster();
				break;
			case 'The Lowrider':// 低底盘车
				bicycle = new Lowrider();
				break;
			case 'The Comfort Cruiser': // 舒适的车
			default:
				bicycle = new ComfortCruiser();
		}
		Interface.ensureImplements(bicycle,Bicycle);
		bicycle.asemble();
		bicycle.wash();

		return bicycle;
	}
}

/*
 *自行车接口
 *
*/

var Bicycle = new Interface('Bicycle',['assemble','wash','ride','repair']);

/*
 *快车类
 *
*/

var Speedster = function () { // 实现Bicycle接口
	
}；
Speedster.prototype = {
	assemble:function () {
		
	},
	wash:function () {
		
	},
	ride:function () {
		
	},
	repair:function () {
		
	}
};

// 要出售某种型号自行车

var californiaCruisers = new BicycleShop();
var yourNewBike = californiaCruisers.sellBicycle('The Speedster');


/**
 *自行车工厂命名空间
 *
*/
var BicycleFactory = {
	createBicycle:function (model) {
		var bicycle;

		switch(model){
			case 'The Speedster':
				bicycle = new Speedster();
				break;
			case 'The Lowrider':
				bicycle = new Lowrider();
				break;
			case 'The Comfort Cruiser':
			default:
				bicycle = new ComfortCruiser();
		}

		Interface.ensureImplements(bicycle,Bicycle);
		return bicycle;
	}
}

/*
 **
 *自行车商店类，改良
 *
*/
var BicycleShop = function () {
	
};
BicycleShop.prototype = {
	sellBicycle:function (model) {
		var bicycle = BicycleFactory.createBicycle(model);

		bicycle.assemble();
		bicycle.wash();

		return bicycle;
	}
}

</script>

	
</body>
</html>